<Window
    x:Class="Sklad_2.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:views="using:Sklad_2.Views"
    mc:Ignorable="d">

    <Grid Background="Transparent">
        <NavigationView x:Name="NavView" IsBackButtonVisible="Collapsed" IsSettingsVisible="true" PaneDisplayMode="Left" IsPaneOpen="True" PaneTitle="Sklad App" ItemInvoked="NavView_ItemInvoked">
            <NavigationView.MenuItems>
                <NavigationViewItem Content="Prodej" Tag="Prodej" Icon="Shop"/>
                <NavigationViewItem Content="Naskladnění" Tag="Naskladneni" Icon="Add"/>
                <NavigationViewItem Content="Vratky" Tag="Vratky" Icon="Undo"/>
                <NavigationViewItem Content="Pokladna" Tag="Pokladna" Icon="Calculator"/>
                <NavigationViewItem Content="Databáze" Tag="Databaze" Icon="Folder" SelectsOnInvoked="False">
                    <NavigationViewItem.MenuItems>
                        <NavigationViewItem Content="Produkty (Přehled)" Tag="Produkty" Icon="Document"/>
                        <NavigationViewItem Content="Nový produkt" Tag="NovyProdukt" Icon="Add"/>
                        <NavigationViewItem Content="Účtenky (přehled)" Tag="Uctenky" Icon="Calculator"/>
                        <NavigationViewItem Content="Vratky (přehled)" Tag="VratkyPrehled" Icon="Calculator"/>
                        <NavigationViewItem Content="Přehled prodejů" Tag="PrehledProdeju" Icon="Calculator"/>
                        <NavigationViewItem Content="Historie pokladny" Tag="HistoriePokladny" Icon="Calculator"/>
                    </NavigationViewItem.MenuItems>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <NavigationView.PaneFooter>
                <StackPanel Spacing="8">
                    <!-- Status Bar -->
                    <Border x:Name="StatusBarBorder"
                            Background="#F5F5F5"
                            CornerRadius="8"
                            Padding="12,8"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            Margin="8,0,8,8">
                        <Grid ColumnSpacing="12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Left Column: Settings -->
                            <StackPanel Grid.Column="0" Spacing="6">
                                <!-- Company Info -->
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE82D;" FontSize="12" Foreground="{x:Bind StatusBarVM.CompanyInfoStatusColor, Mode=OneWay}"/>
                                    <TextBlock FontSize="11" Foreground="#666666">
                                        <Run Text="Firma:"/>
                                        <Run Text="{x:Bind StatusBarVM.CompanyInfoStatusText, Mode=OneWay}" Foreground="{x:Bind StatusBarVM.CompanyInfoStatusColor, Mode=OneWay}" FontWeight="SemiBold"/>
                                    </TextBlock>
                                </StackPanel>

                                <!-- VAT Config -->
                                <StackPanel Orientation="Horizontal" Spacing="6" Visibility="{Binding StatusBarVM.IsVatPayer, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <FontIcon Glyph="&#xE713;" FontSize="12" Foreground="{x:Bind StatusBarVM.VatConfigStatusColor, Mode=OneWay}"/>
                                    <TextBlock FontSize="11" Foreground="#666666">
                                        <Run Text="DPH kat:"/>
                                        <Run Text="{x:Bind StatusBarVM.VatConfigStatusText, Mode=OneWay}" Foreground="{x:Bind StatusBarVM.VatConfigStatusColor, Mode=OneWay}" FontWeight="SemiBold"/>
                                    </TextBlock>
                                </StackPanel>

                                <!-- VAT Payer -->
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE8A9;" FontSize="12" Foreground="{x:Bind StatusBarVM.VatPayerStatusColor, Mode=OneWay}"/>
                                    <TextBlock FontSize="11" Foreground="#666666">
                                        <Run Text="DPH:"/>
                                        <Run Text="{x:Bind StatusBarVM.VatPayerStatusText, Mode=OneWay}" Foreground="{x:Bind StatusBarVM.VatPayerStatusColor, Mode=OneWay}" FontWeight="SemiBold"/>
                                    </TextBlock>
                                </StackPanel>

                                <!-- Database -->
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE896;" FontSize="12" Foreground="{x:Bind StatusBarVM.DatabaseStatusColor, Mode=OneWay}"/>
                                    <TextBlock FontSize="11" Foreground="#666666">
                                        <Run Text="Databáze:"/>
                                        <Run Text="{x:Bind StatusBarVM.DatabaseStatusText, Mode=OneWay}" Foreground="{x:Bind StatusBarVM.DatabaseStatusColor, Mode=OneWay}" FontWeight="SemiBold"/>
                                    </TextBlock>
                                </StackPanel>
                            </StackPanel>

                            <!-- Right Column: Hardware & Daily -->
                            <StackPanel Grid.Column="1" Spacing="6">
                                <!-- Printer -->
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE749;" FontSize="12" Foreground="{x:Bind StatusBarVM.PrinterStatusColor, Mode=OneWay}"/>
                                    <TextBlock FontSize="11" Foreground="#666666">
                                        <Run Text="Tiskárna:"/>
                                        <Run Text="{x:Bind StatusBarVM.PrinterStatusText, Mode=OneWay}" Foreground="{x:Bind StatusBarVM.PrinterStatusColor, Mode=OneWay}" FontWeight="SemiBold"/>
                                    </TextBlock>
                                </StackPanel>

                                <!-- Day Close -->
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE8B7;" FontSize="12" Foreground="{x:Bind StatusBarVM.DayCloseStatusColor, Mode=OneWay}"/>
                                    <TextBlock FontSize="11" Foreground="#666666">
                                        <Run Text="Uzavírka:"/>
                                        <Run Text="{x:Bind StatusBarVM.DayCloseStatusText, Mode=OneWay}" Foreground="{x:Bind StatusBarVM.DayCloseStatusColor, Mode=OneWay}" FontWeight="SemiBold"/>
                                    </TextBlock>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Logout Button -->
                    <NavigationViewItem Content="Odhlásit" Tag="Logout" Icon="Undo" Tapped="Logout_Tapped"/>
                </StackPanel>
            </NavigationView.PaneFooter>
            <Frame x:Name="ContentFrame"/>
        </NavigationView>
    </Grid>
</Window>